<html>

<head>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body {
	font-family: sans-serif;
}

p {
	text-align: center;
}

#ktime #major {
	font-size: 5em;
}

</style>

</head>

<body>

<p id="ktime"><span id="major">loading...</span><span id="minor"></span></p>
<p id="utime"></p>
<p id="earthtime"></p>

<script>

function ktimeMajor(ms) {
	return Math.floor(ms/1e6)%1e3;
}

function ktimeMinor(ms) {
	let s = Math.floor(ms/1e3)%1e3 + '';
	return s.padStart(3,"0");
}

function utime(ms) {
	return Math.floor(ms/1e3).toLocaleString();
}

function update() {

	let d = new Date();

	document.querySelector('#ktime #major').innerText = `k${ktimeMajor(Date.now())}`;
	document.querySelector('#ktime #minor').innerText = `${ktimeMinor(Date.now())}`;
	document.querySelector('#utime').innerText = `timestamp: ${utime(Date.now())}`;
	document.querySelector('#earthtime').innerText = `earth UTC: ${d.toUTCString()}`;
}

setInterval(update, 250);

</script>

</body>

</html>
